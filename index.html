<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>

    <div class="style" id="header">
      <h1>Twittler</h1>
    </div>

    <div id="action">
      <button class="button all">All Tweets</button>
      <button class="button new">New Tweets</button>
<!--       <button class="button shawn">@shawndrost</button>
      <button class="button sharks">@sharksforcheap</button>
      <button class="button mracus">@mracus</button>
      <button class="button douglas">@douglascalhoun</button> -->
    </div>

    <div class="tweetBox">
      <div id="messages"></div>
    </div>

    <script>

      $(document).ready(function(){

        var displayTweet = function(message){
            var tweet;
            if(message === 'original'){
              tweet = streams.home[index];
            }

            else{

              var tweet = streams.home[streams.home.length - 1];
            }

            var $tweet = $('<div></div>');
            $tweet.addClass('style tweets');
            $tweet.prependTo('#messages');

            var $user = $('<h3 class="user"></h3>');
            $user.text('@' + tweet.user);
            $user.appendTo($tweet);
            $tweet.addClass(tweet.user.toString());

            var $message = $('<p class="message"></p>');
            $message.text(tweet.message);
            $message.appendTo($tweet);

            var $time = $('<p class="time"></p>');
            $time.text(tweet.created_at);
            $time.appendTo($tweet);
        };

        var index = streams.home.length - 1;
        while(index >= 0){
            displayTweet('original');
            index -= 1;
        }

        var $newTweet = $('.new');
        $newTweet.on('click', function(){
          generateRandomTweet();
          displayTweet();
          $('.tweets').show();
        });

        var $all = $('.all');
        $all.on('click', function(){
          $('.tweets').show();
        });

        //var $mracus = $('.mracus');
        $('#messages').on('click', '.mracus', function(event){
          event.preventDefault();
          $('.tweets').hide();
          $('.mracus').show();
        });

        //var $shawn = $('.shawndrost, .shawn');
        $('#messages').on('click', '.shawndrost', function(event){
          event.preventDefault();
          $('.tweets').hide();
          $('.shawndrost').show();
        });

        //var $sharks = $('.sharksforcheap, .sharks');
        $('#messages').on('click', '.sharksforcheap', function(event){
          event.preventDefault();
          $('.tweets').hide();
          $('.sharksforcheap').show();
        });

        //var $douglas = $('.douglascalhoun, .douglas');
        $('#messages').on('click', '.douglascalhoun', function(event){
          event.preventDefault();
          $('.tweets').hide();
          $('.douglascalhoun').show();
        });

/*        window.setInterval(function(){

          generateRandomTweet();
          displayTweet();
        }, Math.random() * 60000);*/

      });

    </script>
  </body>
</html>
